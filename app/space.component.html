<div>

  <div class="row">

  <div class="col-sm-4"> <!-- TABLE LIST -->

    <h2>Tables of the space: {{selectedSpace ? selectedSpace.name : ""}}</h2>

    <div class="list-group">

      <a *ngFor="let tab of tables"
        class="list-group-item"
        [class.active]="selectedTable && tab.id === selectedTable.id" 
        (click)="onSelectTable(tab)"
        >
        <h4 class="list-group-item-heading">{{tab.name}}</h4>
        <p class="list-group-item-text">{{tab.id}}</p>
      </a>

    </div>

    <!-- TABLE DETAILS -->
    <div *ngIf="selectedTable">
      <h2>{{selectedTable.name | uppercase}} is my table</h2>
      <button (click)="gotoDetail()">View Column Details</button>
    </div>

  </div>

  <div class="col-sm-4"> <!-- COLUMNS LIST -->

    <h2>Columns of the table: {{selectedTable ? selectedTable.name : ""}}</h2>


    <div class="list-group" *ngIf="selectedTable">

      <a *ngFor="let col of columns"
        class="list-group-item"
        [class.active]="selectedColumn && col.id === selectedColumn.id" 
        (click)="onSelectColumn(col)"
        >
        <h4 class="list-group-item-heading">{{col.name}}</h4>
        <p class="list-group-item-text">Type: {{col.output.table.name}}</p>
        <p class="list-group-item-text">Id: {{col.id}}</p>
      </a>
      <a 
        class="list-group-item"
        [class.active]="selectedColumn && selectedColumn.id === ''" 
        (click)="onSelectColumn(undefined)"
        >
        <h4 class="list-group-item-heading">[ADD NEW COLUMN]</h4>
      </a>

    </div>

    <!-- -COLUMN DETAILS -->
    <div class="row">

      <form *ngIf="selectedColumn" (ngSubmit)="onColumnSubmit()" #columnForm="ngForm">
      <h2>Column details</h2>

      <div class="form-group">
        <label for="id">Id</label>
        <input type="text" class="form-control" [(ngModel)]="selectedColumn.id" ngControl="id" #id="ngForm" placeholder="id" readonly />
      </div>

      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" [(ngModel)]="selectedColumn.name" ngControl="name" #name="ngForm" placeholder="name" required />
        <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
          Name is required
        </div>
      </div>

      <div class="form-group">
        <label for="type">Choose type</label>
        <select class="form-control" [(ngModel)]="selectedColumn.output.id" required>
          <option *ngFor="let tab of tables" [ngValue]="tab.id">{{tab.name}}</option>
        </select>
      </div>

      <button type="submit" class="btn btn-success" [disabled]="!columnForm.form.valid">Save</button>
      <button type="button" class="btn btn-warning btn" (click)="onColumnDelete()" [disabled]="!selectedColumn.id">Delete</button>

      </form>
    </div>

  </div>

  </div>

</div>
